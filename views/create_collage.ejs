<%-include("./partials/header")-%>

    <body class="bg-black text-white flex justify-center" onload="onPageLoad()">
        <div class="flex flex-col gap-5 h-full justify-between sm:w-[500px]  md:w-[650px]">
            <div class="splash-screen flex flex-grow flex-col justify-center">
                <div class="flex flex-col gap-5 items-center">
                    <span class="loader"></span>
                    <div class="text-center">
                        <h1 class="text-lg font-bold">Loading your tracks...</h1>
                        <h2 class="text-gray-300 text-sm">If page got stuck, please reload the page</h1>
                    </div>
                </div>
            </div>

            <!-- Content -->
            <div class="content hidden min-h-screen flex-col gap-2 justify-between">
                <div>
                    <header class="px-5 pt-5 flex flex-row justify-between items-center">
                        <h1 class="text-xl md:text-5xl font-bold">
                            <%= APP_NAME %>
                        </h1>
                        <div
                            class="flex gap-2 items-center text-xs font-bold bg-[#1f1f1f] py-2 px-3 text-white rounded-full">
                            <span class="tracking-wider">
                                <%= DISPLAY_NAME %>
                            </span>
                            <span>|</span>
                            <a href="/logout"
                                class="text-primary hover:text-white transition-colors duration-200 font-semibold"
                                title="Log out of your account">
                                Logout
                                <svg xmlns="http://www.w3.org/2000/svg" class="inline-block w-4 h-4" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M17 16l4-4m0 0l-4-4m4 4H7" />
                                </svg>
                            </a>
                        </div>
                    </header>
                    <section class="flex flex-col gap-5">
                        <div class="w-full px-5 mt-3 flex-grow flex flex-col gap-4 md:items-start">
                            <h1 class="hidden md:block md:text-lg font-semibold">Start generating your collage!</h1>
                            <div class="text-xs w-full flex flex-col gap-2">
                                <div>
                                    <p>Collage size:</p>
                                    <div id="msCollageSize" class="mt-2 flex flex-row gap-2 flex-wrap">
                                    </div>
                                </div>
                                <div>
                                    <p>Sort By:</p>
                                    <div id="msSortBy" class="mt-2 flex flex-row gap-2 flex-wrap">
                                    </div>
                                </div>
                                <div>
                                    <p>Timerange:</p>
                                    <div id="msTimeRange" class="mt-2 flex flex-row gap-2 flex-wrap">
                                    </div>
                                </div>
                                <div class="flex text-xs items-center gap-2 mt-2">
                                    <input type="checkbox" id="cbDuplicateTracks"
                                        class="w-4 h-4 accent-primary border-gray-300 rounded focus:ring-0" checked>
                                    <label for="no-duplicates" class="font-medium">No duplicate tracks</label>
                                </div>
                            </div>
                            <button
                                class="px-5 py-2 rounded-full bg-primary text-black font-bold md:w-[120px] lg:w-[170px]"
                                onclick="onDownloadClick()">Download</button>
                        </div>
                        <div id="collageGrid" class="w-full px-5 flex flex-col gap-5 items-center">
                        </div>
                        <div id="collageLoader" class="w-full px-5 hidden min-h-[350px]">
                            <div class="mt-10 flex flex-col gap-5 items-center">
                                <span class="loader"></span>
                                <div class="text-center">
                                    <h1 class="text-xl font-bold">Generating your collage...</h1>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
                <footer class="p-5">
                    <%-include("./partials/footer")-%>
                </footer>
            </div>
        </div>
    </body>
    <script src="https://cdn.jsdelivr.net/npm/html-to-image@1.11.13/dist/html-to-image.min.js"></script>
    <script src="/js/components/multiselect/multi_select.js" type="text/javascript"></script>
    <script src="/js/create_collage.js" type="text/javascript"></script>

    </html>